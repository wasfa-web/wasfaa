<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ÙˆØµÙØ§ØªÙŠ</title>
  <link rel="stylesheet" href="app.css">
</head>

<body data-theme="cyan">

  <div class="top">
    <h1>ÙˆØµÙØ§ØªÙŠ</h1>
    <button onclick="location.href='index.html'">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
  </div>

  <main class="stack">
    <div id="allRecipes"></div>
  </main>

  <script>
    const list = document.getElementById("allRecipes");
    let recipes = JSON.parse(localStorage.getItem("recipes")) || [];

    function render() {
      list.innerHTML = "";

      if (recipes.length === 0) {
        list.innerHTML = "<p>Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØµÙØ§Øª</p>";
        return;
      }

      recipes.forEach((r, i) => {
        list.innerHTML += `
          <div class="card recipe-item">
            <h3>${r.name}</h3>
            <p>${r.ingredients}</p>
            ${r.image ? `<img src="${r.image}">` : ""}

            <button onclick="editRecipe(${i})">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
            <button onclick="deleteRecipe(${i})">ğŸ—‘ Ø­Ø°Ù</button>
          </div>
        `;
      });
    }

    function deleteRecipe(i) {
      if (!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ")) return;
      recipes.splice(i, 1);
      localStorage.setItem("recipes", JSON.stringify(recipes));
      render();
    }

    function editRecipe(i) {
      const name = prompt("Ø§Ø³Ù… Ø§Ù„ÙˆØµÙØ©", recipes[i].name);
      if (!name) return;

      const ing = prompt("Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª", recipes[i].ingredients);
      if (!ing) return;

      recipes[i].name = name;
      recipes[i].ingredients = ing;

      localStorage.setItem("recipes", JSON.stringify(recipes));
      render();
    }

    render();
  </script>

</body>
</html>
